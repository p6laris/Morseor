@page "/Converter"
@using BlazorAnimation;
@inherits MorseLazor.Base.ConverterBase;

<MudText Typo="Typo.h2">Morse Converter</MudText>
<MudGrid Class="mt-6">
    <MudItem xs="12" sm="7">
        <MudPaper Class="pa-4 mb-5">
            <MudToolBar>
                <MudTooltip Text="Play">
                    <MudIconButton OnClick="PlayMorse" Disabled=!CanPlay Icon="@Icons.Filled.PlayCircleFilled" Color="Color.Inherit" />
                </MudTooltip>
                <MudTooltip Text="Pause">
                    <MudIconButton Disabled=!CanPause OnClick="PauseMorse" Icon="@Icons.Filled.PauseCircleFilled" Color="Color.Inherit" />
                </MudTooltip>
                <MudTooltip Text="Stop">
                    <MudIconButton Disabled=!CanStop OnClick="StopMorse" Icon="@Icons.Filled.StopCircle" Color="Color.Inherit" />
                </MudTooltip>

                <MudSpacer />
                <MudTooltip Text="Show morse with light">
                    <MudToggleIconButton @bind-Toggled="@CanLight"
                                         Icon="@Icons.Filled.FlashlightOff" Title="Off"
                                         ToggledIcon="@Icons.Filled.FlashlightOn" ToggledColor="@Color.Primary" ToggledTitle="On" />
                </MudTooltip>
                <MudTooltip Text="Settings">
                    <MudIconButton Icon="@Icons.Filled.SettingsApplications" />
                </MudTooltip>
                <MudTooltip Text="Download morse sound">
                    <MudIconButton OnClick="DownloadMorse" Icon="@Icons.Filled.CloudDownload" />
                </MudTooltip>
                <MudTooltip Text="Share morse text">
                    <MudIconButton Icon="@Icons.Filled.IosShare" Color="Color.Inherit" />
                </MudTooltip>
            </MudToolBar>
            <MudDivider></MudDivider>

            <MudForm Class="mt-4">
                <MudTextField T="string" Label="Message" Immediate=true @bind-Value="@Message" TextChanged="Convert" Variant="Variant.Text" Lines="5" />
                <MudDivider></MudDivider>
                <MudTextField Class="mt-4" T="string" @bind-Value="@Morse" Label="Morse Code" Immediate=true Disabled=true Variant="Variant.Filled" Lines="5" />
            </MudForm>

        </MudPaper>


    </MudItem>
    <MudItem xs="12" sm="7">
        <MudPaper hidden="@(!CanLight)" Style="background:black;" Height="400" Width="400">
            <MudContainer Fixed=true Class="pa-4" MaxWidth="MaxWidth.Small">
                <MudPaper @ref="LightPaper" Height="300px" Width="400" Square="true" Style="background-color: black;"></MudPaper>
            </MudContainer>
        </MudPaper>
    </MudItem>
</MudGrid>


